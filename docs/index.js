(()=>{"use strict";var t,e,r,o,n,s,i,c,a,u={842:function(t,e,r){var o,n=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},o(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.FakeSolver=void 0;var s=function(t){function e(e,r,o){var n=t.call(this,e,r)||this;return n.right=n.getWord(o,!0),n.wrong=n.getWord(o,!1),n}return n(e,t),e.prototype.processTranscript=function(t){t.toLowerCase()===this.right&&this.successCallback()},e.prototype.getWord=function(t,e){var r='p[data-correct="'+e+'"]',o=t.querySelector(r);return(null==o?void 0:o.innerText)||""},e}(r(168).Solver);e.FakeSolver=s},743:function(t,e,r){var o,n=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},o(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.HackWordsSolver=void 0;var s=function(t){function e(e,r,o){var n=t.call(this,e,r)||this;return n.words=Array.from(o.querySelectorAll("p")).map((function(t){return t.innerHTML})),n}return n(e,t),e.prototype.processTranscript=function(t){var e=this.words[0];t.toLowerCase()===e.toLowerCase()&&(this.words.shift(),this.successCallback()),0===this.words.length&&this.successCallback()},e}(r(168).Solver);e.HackWordsSolver=s},349:function(t,e,r){var o,n=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},o(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.TaleSolver=void 0;var s=function(t){function e(e,r,o){var n=t.call(this,e,r)||this;return n.image=o.getAttribute("data-background-image")||"",n.words=Array.from(o.querySelectorAll("span")).map((function(t){return t.innerText})),""!==n.image&&setTimeout(r,5e3),n}return n(e,t),e.prototype.processTranscript=function(t){var e=this.words[0];t.toLowerCase()===e.toLowerCase()&&(this.words.shift(),this.successCallback()),0===this.words.length&&this.successCallback()},e}(r(168).Solver);e.TaleSolver=s},414:function(t,e,r){var o,n=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},o(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.WordsSolver=void 0;var s=function(t){function e(e,r,o){var n,s=t.call(this,e,r)||this;return s.word=(null===(n=o.querySelector("p"))||void 0===n?void 0:n.innerText)||"",s}return n(e,t),e.prototype.processTranscript=function(t){t.toLowerCase()===this.word.toLowerCase()&&this.successCallback()},e}(r(168).Solver);e.WordsSolver=s},168:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Solver=void 0;var r=function(){function t(t,e){var r=this;this.$transcripts=t,this.successCallback=e,this.transcriptListener=function(t){var e=t.detail;r.processTranscript(e)},this.$transcripts.addEventListener("transcript",this.transcriptListener)}return t.prototype.disconnect=function(){this.$transcripts.removeEventListener("transcript",this.transcriptListener)},t}();e.Solver=r},717:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Speecher=void 0;var r=function(){function t(t,e){var r=this;this.speech=t,this.options=e,this.$events=new EventTarget,this.$errors=new EventTarget,this.resultHandler=function(t){return r.handleResult(t)},this.errorHandler=function(t){return r.handleError(t)},this.speech.addEventListener("result",this.resultHandler),this.speech.addEventListener("error",this.errorHandler),this.speech.continuous=!0,this.speech.lang=e.locale,this.speech.start()}return t.prototype.handleResult=function(t){for(var e=this,r=t.results.item(t.results.length-1),o=0;o<r.length;o++)r.item(o).transcript.split(" ").filter((function(t){return!!t})).forEach((function(t){console.log("heard",t),e.$events.dispatchEvent(new CustomEvent("transcript",{detail:t}))}))},t.prototype.handleError=function(t){console.error("recognition error",t.name,t.error),this.$errors.dispatchEvent(new CustomEvent("error",{detail:t.error}))},t.prototype.extractWords=function(t){return t.split(" ").map((function(t){return t.replace(/[^a-záàéèíóòúü]+/gi,"")}))},t}();e.Speecher=r}},l={};function p(t){var e=l[t];if(void 0!==e)return e.exports;var r=l[t]={exports:{}};return u[t].call(r.exports,r,r.exports,p),r.exports}r=p(717),o=p(842),n=p(743),s=p(349),i=p(414),c=function(){var t=Reveal.availableRoutes();console.log("down",t.down,"right",t.right),Reveal.next()},a=function(a){var u=a.currentSlide,l=u.parentElement,p=null==l?void 0:l.getAttribute("data-locale"),h=null==l?void 0:l.getAttribute("data-type");switch(t||(t=new r.Speecher(new webkitSpeechRecognition,{locale:p})),e&&e.disconnect(),h){case"words":e=new i.WordsSolver(t.$events,c,u);break;case"tale":e=new s.TaleSolver(t.$events,c,u);break;case"fake":e=new o.FakeSolver(t.$events,c,u);break;case"hack-words":e=new n.HackWordsSolver(t.$events,c,u)}},Reveal.addEventListener("slidechanged",a),Reveal.addEventListener("ready",a)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFnQnJDLEdBQ3hDbUYsT0FBTzlDLGlCQUFpQixRQUFTckMsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2xleC8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9sZXgvLi9zcmMvc29sdmVyLWZha2UudHMiLCJ3ZWJwYWNrOi8vbGV4Ly4vc3JjL3NvbHZlci1oYWNrLXdvcmRzLnRzIiwid2VicGFjazovL2xleC8uL3NyYy9zb2x2ZXItdGFsZS50cyIsIndlYnBhY2s6Ly9sZXgvLi9zcmMvc29sdmVyLXdvcmRzLnRzIiwid2VicGFjazovL2xleC8uL3NyYy9zb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vbGV4Ly4vc3JjL3NwZWVjaGVyLnRzIiwid2VicGFjazovL2xleC93ZWJwYWNrL2Jvb3RzdHJhcCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vbm9kZV9tb2R1bGVzL0B0eXBlcy9yZXZlYWwvaW5kZXguZC50c1wiIC8+XG5pbXBvcnQgeyBTcGVlY2hlciwgU3BlZWNoTG9jYWxlIH0gZnJvbSAnLi9zcGVlY2hlcic7XG5pbXBvcnQgeyBTb2x2ZXIgfSBmcm9tICcuL3NvbHZlcic7XG5pbXBvcnQgeyBGYWtlU29sdmVyIH0gZnJvbSAnLi9zb2x2ZXItZmFrZSc7XG5pbXBvcnQgeyBIYWNrV29yZHNTb2x2ZXIgfSBmcm9tICcuL3NvbHZlci1oYWNrLXdvcmRzJztcbmltcG9ydCB7IFRhbGVTb2x2ZXIgfSBmcm9tICcuL3NvbHZlci10YWxlJztcbmltcG9ydCB7IFdvcmRzU29sdmVyIH0gZnJvbSAnLi9zb2x2ZXItd29yZHMnO1xuXG5pbnRlcmZhY2UgUmV2ZWFsRXZlbnQge1xuICBjdXJyZW50U2xpZGU6IEhUTUxFbGVtZW50O1xufVxuaW50ZXJmYWNlIFJldmVhbFJvdXRlcyB7XG4gIGRvd246IGJvb2xlYW47XG4gIGxlZnQ6IGJvb2xlYW47XG4gIHJpZ2h0OiBib29sZWFuO1xuICB1cDogYm9vbGVhbjtcbn1cblxuZGVjbGFyZSBsZXQgd2Via2l0U3BlZWNoUmVjb2duaXRpb246IHtcbiAgbmV3ICgpOiBTcGVlY2hSZWNvZ25pdGlvbjtcbn07XG5cbmxldCBzcGVlY2hlcjogU3BlZWNoZXI7XG5sZXQgc29sdmVyOiBTb2x2ZXI7XG5cbmNvbnN0IG5leHRTbGlkZSA9ICgpID0+IHtcbiAgY29uc3Qgcm91dGVzID0gKFJldmVhbCBhcyBhbnkpLmF2YWlsYWJsZVJvdXRlcygpIGFzIFJldmVhbFJvdXRlcztcbiAgY29uc29sZS5sb2coJ2Rvd24nLCByb3V0ZXMuZG93biwgJ3JpZ2h0Jywgcm91dGVzLnJpZ2h0KTtcbiAgUmV2ZWFsLm5leHQoKTtcbn1cblxuY29uc3QgcHJvY2Vzc1NsaWRlRXZlbnQgPSAoZXZlbnQ6IFJldmVhbEV2ZW50KSA9PiB7XG4gIGNvbnN0IHNsaWRlID0gZXZlbnQuY3VycmVudFNsaWRlO1xuICBjb25zdCBwYXJlbnQgPSBzbGlkZS5wYXJlbnRFbGVtZW50O1xuICBjb25zdCBsb2NhbGUgPSBwYXJlbnQ/LmdldEF0dHJpYnV0ZSgnZGF0YS1sb2NhbGUnKSBhcyBTcGVlY2hMb2NhbGU7XG4gIGNvbnN0IHR5cGUgPSBwYXJlbnQ/LmdldEF0dHJpYnV0ZSgnZGF0YS10eXBlJyk7XG5cbiAgaWYgKCFzcGVlY2hlcikge1xuICAgIHNwZWVjaGVyID0gbmV3IFNwZWVjaGVyKG5ldyB3ZWJraXRTcGVlY2hSZWNvZ25pdGlvbigpLCB7IGxvY2FsZSB9KTtcbiAgfVxuXG4gIGlmIChzb2x2ZXIpIHNvbHZlci5kaXNjb25uZWN0KCk7XG5cbiAgc3dpdGNoKHR5cGUpIHtcbiAgICBjYXNlICd3b3Jkcyc6XG4gICAgICBzb2x2ZXIgPSBuZXcgV29yZHNTb2x2ZXIoc3BlZWNoZXIuJGV2ZW50cywgbmV4dFNsaWRlLCBzbGlkZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0YWxlJzpcbiAgICAgIHNvbHZlciA9IG5ldyBUYWxlU29sdmVyKHNwZWVjaGVyLiRldmVudHMsIG5leHRTbGlkZSwgc2xpZGUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZmFrZSc6XG4gICAgICBzb2x2ZXIgPSBuZXcgRmFrZVNvbHZlcihzcGVlY2hlci4kZXZlbnRzLCBuZXh0U2xpZGUsIHNsaWRlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hhY2std29yZHMnOlxuICAgICAgc29sdmVyID0gbmV3IEhhY2tXb3Jkc1NvbHZlcihzcGVlY2hlci4kZXZlbnRzLCBuZXh0U2xpZGUsIHNsaWRlKTtcbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG4vLyBXaXJlIHVwIHdpdGggcmV2ZWFsIEFQSVxuUmV2ZWFsLmFkZEV2ZW50TGlzdGVuZXIoJ3NsaWRlY2hhbmdlZCcsIHByb2Nlc3NTbGlkZUV2ZW50KTtcblJldmVhbC5hZGRFdmVudExpc3RlbmVyKCdyZWFkeScsIHByb2Nlc3NTbGlkZUV2ZW50KTtcbiIsImltcG9ydCB7IFNvbHZlciB9IGZyb20gJy4vc29sdmVyJztcblxuZXhwb3J0IGNsYXNzIEZha2VTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICByaWdodDogc3RyaW5nO1xuICB3cm9uZzogc3RyaW5nO1xuICBjb25zdHJ1Y3RvcihcbiAgICAkdHJhbnNjcmlwdHM6IEV2ZW50VGFyZ2V0LFxuICAgIHN1Y2Nlc3NDYWxsYmFjazogKCkgPT4gdm9pZCxcbiAgICBzbGlkZTogSFRNTEVsZW1lbnQsXG4gICkge1xuICAgIHN1cGVyKCR0cmFuc2NyaXB0cywgc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICB0aGlzLnJpZ2h0ID0gdGhpcy5nZXRXb3JkKHNsaWRlLCB0cnVlKTtcbiAgICB0aGlzLndyb25nID0gdGhpcy5nZXRXb3JkKHNsaWRlLCBmYWxzZSk7XG4gIH1cblxuICBwcm9jZXNzVHJhbnNjcmlwdCh3b3JkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAod29yZC50b0xvd2VyQ2FzZSgpID09PSB0aGlzLnJpZ2h0KSB7XG4gICAgICB0aGlzLnN1Y2Nlc3NDYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0V29yZChzbGlkZTogSFRNTEVsZW1lbnQsIGNvcnJlY3Q6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIGNvbnN0IHNlbGVjdG9yID0gYHBbZGF0YS1jb3JyZWN0PVwiJHtjb3JyZWN0fVwiXWA7XG4gICAgY29uc3QgcGFyYWdyYXBoID0gc2xpZGUucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XG5cbiAgICByZXR1cm4gcGFyYWdyYXBoPy5pbm5lclRleHQgfHwgJyc7XG4gIH1cbn0iLCJpbXBvcnQgeyBTb2x2ZXIgfSBmcm9tICcuL3NvbHZlcic7XG5cbmV4cG9ydCBjbGFzcyBIYWNrV29yZHNTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICB3b3Jkczogc3RyaW5nW107XG4gIGNvbnN0cnVjdG9yKFxuICAgICR0cmFuc2NyaXB0czogRXZlbnRUYXJnZXQsXG4gICAgc3VjY2Vzc0NhbGxiYWNrOiAoKSA9PiB2b2lkLFxuICAgIHNsaWRlOiBIVE1MRWxlbWVudCxcbiAgKSB7XG4gICAgc3VwZXIoJHRyYW5zY3JpcHRzLCBzdWNjZXNzQ2FsbGJhY2spO1xuICAgIHRoaXMud29yZHMgPSBBcnJheS5mcm9tKHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3AnKSkubWFwKGVsZW0gPT4gZWxlbS5pbm5lckhUTUwpO1xuICB9XG5cbiAgcHJvY2Vzc1RyYW5zY3JpcHQod29yZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgbmV4dFdvcmQgPSB0aGlzLndvcmRzWzBdO1xuXG4gICAgaWYgKHdvcmQudG9Mb3dlckNhc2UoKSA9PT0gbmV4dFdvcmQudG9Mb3dlckNhc2UoKSkge1xuICAgICAgdGhpcy53b3Jkcy5zaGlmdCgpO1xuICAgICAgdGhpcy5zdWNjZXNzQ2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy53b3Jkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuc3VjY2Vzc0NhbGxiYWNrKCk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgU29sdmVyIH0gZnJvbSAnLi9zb2x2ZXInO1xuXG5leHBvcnQgY2xhc3MgVGFsZVNvbHZlciBleHRlbmRzIFNvbHZlciB7XG4gIHdvcmRzOiBzdHJpbmdbXTtcbiAgaW1hZ2U6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihcbiAgICAkdHJhbnNjcmlwdHM6IEV2ZW50VGFyZ2V0LFxuICAgIHN1Y2Nlc3NDYWxsYmFjazogKCkgPT4gdm9pZCxcbiAgICBzbGlkZTogSFRNTEVsZW1lbnQsXG4gICkge1xuICAgIHN1cGVyKCR0cmFuc2NyaXB0cywgc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICB0aGlzLmltYWdlID0gc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJhY2tncm91bmQtaW1hZ2UnKSB8fCAnJztcbiAgICB0aGlzLndvcmRzID0gQXJyYXkuZnJvbShzbGlkZS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuJykpLm1hcChlbGVtID0+IGVsZW0uaW5uZXJUZXh0KTtcblxuICAgIGlmICh0aGlzLmltYWdlICE9PSAnJykge1xuICAgICAgc2V0VGltZW91dChzdWNjZXNzQ2FsbGJhY2ssIDUwMDApO1xuICAgIH1cbiAgfVxuXG4gIHByb2Nlc3NUcmFuc2NyaXB0KHdvcmQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IG5leHRXb3JkID0gdGhpcy53b3Jkc1swXTtcblxuICAgIGlmICh3b3JkLnRvTG93ZXJDYXNlKCkgPT09IG5leHRXb3JkLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHRoaXMud29yZHMuc2hpZnQoKTtcbiAgICAgIHRoaXMuc3VjY2Vzc0NhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMud29yZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnN1Y2Nlc3NDYWxsYmFjaygpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB7IFNvbHZlciB9IGZyb20gJy4vc29sdmVyJztcblxuZXhwb3J0IGNsYXNzIFdvcmRzU29sdmVyIGV4dGVuZHMgU29sdmVyIHtcbiAgd29yZDogc3RyaW5nO1xuICBjb25zdHJ1Y3RvcihcbiAgICAkdHJhbnNjcmlwdHM6IEV2ZW50VGFyZ2V0LFxuICAgIHN1Y2Nlc3NDYWxsYmFjazogKCkgPT4gdm9pZCxcbiAgICBzbGlkZTogSFRNTEVsZW1lbnQsXG4gICkge1xuICAgIHN1cGVyKCR0cmFuc2NyaXB0cywgc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICB0aGlzLndvcmQgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKCdwJyk/LmlubmVyVGV4dCB8fCAnJztcbiAgfVxuXG4gIHByb2Nlc3NUcmFuc2NyaXB0KHdvcmQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh3b3JkLnRvTG93ZXJDYXNlKCkgPT09IHRoaXMud29yZC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICB0aGlzLnN1Y2Nlc3NDYWxsYmFjaygpO1xuICAgIH1cbiAgfVxufSIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTb2x2ZXIge1xuICBwcml2YXRlIHRyYW5zY3JpcHRMaXN0ZW5lcjogRXZlbnRMaXN0ZW5lciA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IHsgZGV0YWlsIH0gPSAoZXZlbnQgYXMgYW55KTtcbiAgICB0aGlzLnByb2Nlc3NUcmFuc2NyaXB0KGRldGFpbCk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgJHRyYW5zY3JpcHRzOiBFdmVudFRhcmdldCxcbiAgICBwcm90ZWN0ZWQgc3VjY2Vzc0NhbGxiYWNrOiAoKSA9PiB2b2lkLFxuICApIHtcbiAgICB0aGlzLiR0cmFuc2NyaXB0cy5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2NyaXB0JywgdGhpcy50cmFuc2NyaXB0TGlzdGVuZXIpO1xuICB9XG5cbiAgZGlzY29ubmVjdCgpOiB2b2lkIHtcbiAgICB0aGlzLiR0cmFuc2NyaXB0cy5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2NyaXB0JywgdGhpcy50cmFuc2NyaXB0TGlzdGVuZXIpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IHByb2Nlc3NUcmFuc2NyaXB0KHdvcmQ6IHN0cmluZyk6IHZvaWQ7XG59XG4iLCJleHBvcnQgdHlwZSBTcGVlY2hMb2NhbGUgPSAnZW4tVVMnIHwgJ2VzLUVTJyB8ICdjYS1FUyc7XG5leHBvcnQgaW50ZXJmYWNlIFNwZWVjaE9wdGlvbnMge1xuICBsb2NhbGU6IFNwZWVjaExvY2FsZTtcbn1cblxuZXhwb3J0IGNsYXNzIFNwZWVjaGVyIHtcbiAgcHJpdmF0ZSByZXN1bHRIYW5kbGVyOiBhbnk7XG4gIHByaXZhdGUgZXJyb3JIYW5kbGVyOiBhbnk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBzcGVlY2g6IFNwZWVjaFJlY29nbml0aW9uLFxuICAgIHByaXZhdGUgb3B0aW9uczogU3BlZWNoT3B0aW9ucyxcbiAgKSB7XG4gICAgdGhpcy5yZXN1bHRIYW5kbGVyID0gKGV2dDogU3BlZWNoUmVjb2duaXRpb25FdmVudCkgPT4gdGhpcy5oYW5kbGVSZXN1bHQoZXZ0KTtcbiAgICB0aGlzLmVycm9ySGFuZGxlciA9IChldnQ6IFNwZWVjaFN5bnRoZXNpc0Vycm9yRXZlbnQpID0+IHRoaXMuaGFuZGxlRXJyb3IoZXZ0KTtcbiAgICB0aGlzLnNwZWVjaC5hZGRFdmVudExpc3RlbmVyKCdyZXN1bHQnLCB0aGlzLnJlc3VsdEhhbmRsZXIpO1xuICAgIHRoaXMuc3BlZWNoLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJyAsIHRoaXMuZXJyb3JIYW5kbGVyKTtcbiAgICB0aGlzLnNwZWVjaC5jb250aW51b3VzID0gdHJ1ZTtcbiAgICB0aGlzLnNwZWVjaC5sYW5nID0gb3B0aW9ucy5sb2NhbGU7XG4gICAgdGhpcy5zcGVlY2guc3RhcnQoKTtcbiAgfVxuXG4gICRldmVudHMgPSBuZXcgRXZlbnRUYXJnZXQoKVxuICAkZXJyb3JzID0gbmV3IEV2ZW50VGFyZ2V0KClcblxuICBwcml2YXRlIGhhbmRsZVJlc3VsdChldmVudDogU3BlZWNoUmVjb2duaXRpb25FdmVudCkge1xuICAgIGNvbnN0IGxhc3RSZXN1bHQgPSBldmVudC5yZXN1bHRzLml0ZW0oZXZlbnQucmVzdWx0cy5sZW5ndGggLSAxKTtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RSZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGFsdGVybmF0aXZlID0gbGFzdFJlc3VsdC5pdGVtKGkpO1xuXG4gICAgICBhbHRlcm5hdGl2ZS50cmFuc2NyaXB0LnNwbGl0KCcgJylcbiAgICAgIC5maWx0ZXIoKHdvcmQpID0+ICEhd29yZClcbiAgICAgIC5mb3JFYWNoKCh3b3JkKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdoZWFyZCcsIHdvcmQpO1xuICAgICAgICB0aGlzLiRldmVudHMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3RyYW5zY3JpcHQnLCB7IGRldGFpbDogd29yZCB9KSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRXJyb3IoZXZlbnQ6IFNwZWVjaFN5bnRoZXNpc0Vycm9yRXZlbnQpIHtcbiAgICBjb25zb2xlLmVycm9yKCdyZWNvZ25pdGlvbiBlcnJvcicsIGV2ZW50Lm5hbWUsIGV2ZW50LmVycm9yKTtcbiAgICB0aGlzLiRlcnJvcnMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2Vycm9yJywgeyBkZXRhaWw6IGV2ZW50LmVycm9yIH0pKTtcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdFdvcmRzKHRleHQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGV4dC5zcGxpdCgnICcpLm1hcCh0ID0+IHQucmVwbGFjZSgvW15hLXrDocOgw6nDqMOtw7PDssO6w7xdKy9pZywgJycpKTtcbiAgfVxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iXSwibmFtZXMiOlsic3BlZWNoZXIiLCJzb2x2ZXIiLCJuZXh0U2xpZGUiLCJwcm9jZXNzU2xpZGVFdmVudCIsIiR0cmFuc2NyaXB0cyIsInN1Y2Nlc3NDYWxsYmFjayIsInNsaWRlIiwicmlnaHQiLCJnZXRXb3JkIiwid3JvbmciLCJwcm9jZXNzVHJhbnNjcmlwdCIsIndvcmQiLCJ0b0xvd2VyQ2FzZSIsInRoaXMiLCJjb3JyZWN0Iiwic2VsZWN0b3IiLCJwYXJhZ3JhcGgiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJUZXh0IiwiU29sdmVyIiwiRmFrZVNvbHZlciIsIndvcmRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIm1hcCIsImVsZW0iLCJpbm5lckhUTUwiLCJuZXh0V29yZCIsInNoaWZ0IiwibGVuZ3RoIiwiSGFja1dvcmRzU29sdmVyIiwiaW1hZ2UiLCJnZXRBdHRyaWJ1dGUiLCJzZXRUaW1lb3V0IiwiVGFsZVNvbHZlciIsIldvcmRzU29sdmVyIiwidHJhbnNjcmlwdExpc3RlbmVyIiwiZXZlbnQiLCJkZXRhaWwiLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzY29ubmVjdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzcGVlY2giLCJvcHRpb25zIiwiJGV2ZW50cyIsIkV2ZW50VGFyZ2V0IiwiJGVycm9ycyIsInJlc3VsdEhhbmRsZXIiLCJldnQiLCJoYW5kbGVSZXN1bHQiLCJlcnJvckhhbmRsZXIiLCJoYW5kbGVFcnJvciIsImNvbnRpbnVvdXMiLCJsYW5nIiwibG9jYWxlIiwic3RhcnQiLCJsYXN0UmVzdWx0IiwicmVzdWx0cyIsIml0ZW0iLCJpIiwidHJhbnNjcmlwdCIsInNwbGl0IiwiZmlsdGVyIiwiZm9yRWFjaCIsImNvbnNvbGUiLCJsb2ciLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJlcnJvciIsIm5hbWUiLCJleHRyYWN0V29yZHMiLCJ0ZXh0IiwidCIsInJlcGxhY2UiLCJTcGVlY2hlciIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsInJvdXRlcyIsIlJldmVhbCIsImF2YWlsYWJsZVJvdXRlcyIsImRvd24iLCJuZXh0IiwiY3VycmVudFNsaWRlIiwicGFyZW50IiwicGFyZW50RWxlbWVudCIsInR5cGUiLCJ3ZWJraXRTcGVlY2hSZWNvZ25pdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=