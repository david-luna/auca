(()=>{"use strict";var t,e,r,o,n,s,i,c,a,u={842:function(t,e,r){var o,n=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},o(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.FakeSolver=void 0;var s=function(t){function e(e,r,o){var n=t.call(this,e,r)||this;return n.right=n.getWord(o,!0),n.wrong=n.getWord(o,!1),n}return n(e,t),e.prototype.processTranscript=function(t){t.toLowerCase()===this.right&&this.successCallback()},e.prototype.getWord=function(t,e){var r='p[data-correct="'+e+'"]',o=t.querySelector(r);return(null==o?void 0:o.innerText)||""},e}(r(168).Solver);e.FakeSolver=s},743:function(t,e,r){var o,n=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},o(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.HackWordsSolver=void 0;var s=function(t){function e(e,r,o){var n=t.call(this,e,r)||this;return n.words=Array.from(o.querySelectorAll("p")).map((function(t){return t.innerHTML})),n}return n(e,t),e.prototype.processTranscript=function(t){var e=this.words[0];t.toLowerCase()===e.toLowerCase()&&(this.words.shift(),this.successCallback()),0===this.words.length&&this.successCallback()},e}(r(168).Solver);e.HackWordsSolver=s},349:function(t,e,r){var o,n=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},o(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.TaleSolver=void 0;var s=function(t){function e(e,r,o){var n=t.call(this,e,r)||this;return n.image=o.getAttribute("data-image-url")||"",n.words=Array.from(o.querySelectorAll("span")).map((function(t){return t.innerText})),n}return n(e,t),e.prototype.processTranscript=function(t){var e=this.words[0];t.toLowerCase()===e.toLowerCase()&&(this.words.shift(),this.successCallback()),0===this.words.length&&this.successCallback()},e}(r(168).Solver);e.TaleSolver=s},414:function(t,e,r){var o,n=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},o(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.WordsSolver=void 0;var s=function(t){function e(e,r,o){var n,s=t.call(this,e,r)||this;return s.word=(null===(n=o.querySelector("p"))||void 0===n?void 0:n.innerText)||"",s}return n(e,t),e.prototype.processTranscript=function(t){t.toLowerCase()===this.word.toLowerCase()&&this.successCallback()},e}(r(168).Solver);e.WordsSolver=s},168:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Solver=void 0;var r=function(){function t(t,e){var r=this;this.$transcripts=t,this.successCallback=e,this.transcriptListener=function(t){var e=t.detail;r.processTranscript(e)},this.$transcripts.addEventListener("transcript",this.transcriptListener)}return t.prototype.disconnect=function(){this.$transcripts.removeEventListener("transcript",this.transcriptListener)},t}();e.Solver=r},717:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Speecher=void 0;var r=function(){function t(t,e){var r=this;this.speech=t,this.options=e,this.$events=new EventTarget,this.$errors=new EventTarget,this.resultHandler=function(t){return r.handleResult(t)},this.errorHandler=function(t){return r.handleError(t)},this.speech.addEventListener("result",this.resultHandler),this.speech.addEventListener("error",this.errorHandler),this.speech.continuous=!0,this.speech.lang=e.locale,this.speech.start()}return t.prototype.handleResult=function(t){for(var e=this,r=t.results.item(t.results.length-1),o=0;o<r.length;o++)r.item(o).transcript.split(" ").filter((function(t){return!!t})).forEach((function(t){console.log("heard",t),e.$events.dispatchEvent(new CustomEvent("transcript",{detail:t}))}))},t.prototype.handleError=function(t){console.error("recognition error",t.name,t.error),this.$errors.dispatchEvent(new CustomEvent("error",{detail:t.error}))},t.prototype.extractWords=function(t){return t.split(" ").map((function(t){return t.replace(/[^a-záàéèíóòúü]+/gi,"")}))},t}();e.Speecher=r}},l={};function p(t){var e=l[t];if(void 0!==e)return e.exports;var r=l[t]={exports:{}};return u[t].call(r.exports,r,r.exports,p),r.exports}r=p(717),o=p(842),n=p(743),s=p(349),i=p(414),c=function(){var t=Reveal.availableRoutes();console.log("down",t.down,"right",t.right),Reveal.next()},a=function(a){var u=a.currentSlide,l=u.parentElement,p=null==l?void 0:l.getAttribute("data-locale"),h=null==l?void 0:l.getAttribute("data-type");switch(t||(t=new r.Speecher(new webkitSpeechRecognition,{locale:p})),e&&e.disconnect(),h){case"words":e=new i.WordsSolver(t.$events,c,u);break;case"tale":e=new s.TaleSolver(t.$events,c,u);break;case"fake":e=new o.FakeSolver(t.$events,c,u);break;case"hack-words":e=new n.HackWordsSolver(t.$events,c,u)}},Reveal.addEventListener("slidechanged",a),Reveal.addEventListener("ready",a)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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InNvdXJjZXMiOlsid2VicGFjazovL2xleC8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9sZXgvLi9zcmMvc29sdmVyLWZha2UudHMiLCJ3ZWJwYWNrOi8vbGV4Ly4vc3JjL3NvbHZlci1oYWNrLXdvcmRzLnRzIiwid2VicGFjazovL2xleC8uL3NyYy9zb2x2ZXItdGFsZS50cyIsIndlYnBhY2s6Ly9sZXgvLi9zcmMvc29sdmVyLXdvcmRzLnRzIiwid2VicGFjazovL2xleC8uL3NyYy9zb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vbGV4Ly4vc3JjL3NwZWVjaGVyLnRzIiwid2VicGFjazovL2xleC93ZWJwYWNrL2Jvb3RzdHJhcCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vbm9kZV9tb2R1bGVzL0B0eXBlcy9yZXZlYWwvaW5kZXguZC50c1wiIC8+XG5pbXBvcnQgeyBTcGVlY2hlciwgU3BlZWNoTG9jYWxlIH0gZnJvbSAnLi9zcGVlY2hlcic7XG5pbXBvcnQgeyBTb2x2ZXIgfSBmcm9tICcuL3NvbHZlcic7XG5pbXBvcnQgeyBGYWtlU29sdmVyIH0gZnJvbSAnLi9zb2x2ZXItZmFrZSc7XG5pbXBvcnQgeyBIYWNrV29yZHNTb2x2ZXIgfSBmcm9tICcuL3NvbHZlci1oYWNrLXdvcmRzJztcbmltcG9ydCB7IFRhbGVTb2x2ZXIgfSBmcm9tICcuL3NvbHZlci10YWxlJztcbmltcG9ydCB7IFdvcmRzU29sdmVyIH0gZnJvbSAnLi9zb2x2ZXItd29yZHMnO1xuXG5pbnRlcmZhY2UgUmV2ZWFsRXZlbnQge1xuICBjdXJyZW50U2xpZGU6IEhUTUxFbGVtZW50O1xufVxuaW50ZXJmYWNlIFJldmVhbFJvdXRlcyB7XG4gIGRvd246IGJvb2xlYW47XG4gIGxlZnQ6IGJvb2xlYW47XG4gIHJpZ2h0OiBib29sZWFuO1xuICB1cDogYm9vbGVhbjtcbn1cblxuZGVjbGFyZSBsZXQgd2Via2l0U3BlZWNoUmVjb2duaXRpb246IHtcbiAgbmV3ICgpOiBTcGVlY2hSZWNvZ25pdGlvbjtcbn07XG5cbmxldCBzcGVlY2hlcjogU3BlZWNoZXI7XG5sZXQgc29sdmVyOiBTb2x2ZXI7XG5cbmNvbnN0IG5leHRTbGlkZSA9ICgpID0+IHtcbiAgY29uc3Qgcm91dGVzID0gKFJldmVhbCBhcyBhbnkpLmF2YWlsYWJsZVJvdXRlcygpIGFzIFJldmVhbFJvdXRlcztcbiAgY29uc29sZS5sb2coJ2Rvd24nLCByb3V0ZXMuZG93biwgJ3JpZ2h0Jywgcm91dGVzLnJpZ2h0KTtcbiAgUmV2ZWFsLm5leHQoKTtcbn1cblxuY29uc3QgcHJvY2Vzc1NsaWRlRXZlbnQgPSAoZXZlbnQ6IFJldmVhbEV2ZW50KSA9PiB7XG4gIGNvbnN0IHNsaWRlID0gZXZlbnQuY3VycmVudFNsaWRlO1xuICBjb25zdCBwYXJlbnQgPSBzbGlkZS5wYXJlbnRFbGVtZW50O1xuICBjb25zdCBsb2NhbGUgPSBwYXJlbnQ/LmdldEF0dHJpYnV0ZSgnZGF0YS1sb2NhbGUnKSBhcyBTcGVlY2hMb2NhbGU7XG4gIGNvbnN0IHR5cGUgPSBwYXJlbnQ/LmdldEF0dHJpYnV0ZSgnZGF0YS10eXBlJyk7XG5cbiAgaWYgKCFzcGVlY2hlcikge1xuICAgIHNwZWVjaGVyID0gbmV3IFNwZWVjaGVyKG5ldyB3ZWJraXRTcGVlY2hSZWNvZ25pdGlvbigpLCB7IGxvY2FsZSB9KTtcbiAgfVxuXG4gIGlmIChzb2x2ZXIpIHNvbHZlci5kaXNjb25uZWN0KCk7XG5cbiAgc3dpdGNoKHR5cGUpIHtcbiAgICBjYXNlICd3b3Jkcyc6XG4gICAgICBzb2x2ZXIgPSBuZXcgV29yZHNTb2x2ZXIoc3BlZWNoZXIuJGV2ZW50cywgbmV4dFNsaWRlLCBzbGlkZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0YWxlJzpcbiAgICAgIHNvbHZlciA9IG5ldyBUYWxlU29sdmVyKHNwZWVjaGVyLiRldmVudHMsIG5leHRTbGlkZSwgc2xpZGUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZmFrZSc6XG4gICAgICBzb2x2ZXIgPSBuZXcgRmFrZVNvbHZlcihzcGVlY2hlci4kZXZlbnRzLCBuZXh0U2xpZGUsIHNsaWRlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hhY2std29yZHMnOlxuICAgICAgc29sdmVyID0gbmV3IEhhY2tXb3Jkc1NvbHZlcihzcGVlY2hlci4kZXZlbnRzLCBuZXh0U2xpZGUsIHNsaWRlKTtcbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG4vLyBXaXJlIHVwIHdpdGggcmV2ZWFsIEFQSVxuUmV2ZWFsLmFkZEV2ZW50TGlzdGVuZXIoJ3NsaWRlY2hhbmdlZCcsIHByb2Nlc3NTbGlkZUV2ZW50KTtcblJldmVhbC5hZGRFdmVudExpc3RlbmVyKCdyZWFkeScsIHByb2Nlc3NTbGlkZUV2ZW50KTtcbiIsImltcG9ydCB7IFNvbHZlciB9IGZyb20gJy4vc29sdmVyJztcblxuZXhwb3J0IGNsYXNzIEZha2VTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICByaWdodDogc3RyaW5nO1xuICB3cm9uZzogc3RyaW5nO1xuICBjb25zdHJ1Y3RvcihcbiAgICAkdHJhbnNjcmlwdHM6IEV2ZW50VGFyZ2V0LFxuICAgIHN1Y2Nlc3NDYWxsYmFjazogKCkgPT4gdm9pZCxcbiAgICBzbGlkZTogSFRNTEVsZW1lbnQsXG4gICkge1xuICAgIHN1cGVyKCR0cmFuc2NyaXB0cywgc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICB0aGlzLnJpZ2h0ID0gdGhpcy5nZXRXb3JkKHNsaWRlLCB0cnVlKTtcbiAgICB0aGlzLndyb25nID0gdGhpcy5nZXRXb3JkKHNsaWRlLCBmYWxzZSk7XG4gIH1cblxuICBwcm9jZXNzVHJhbnNjcmlwdCh3b3JkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAod29yZC50b0xvd2VyQ2FzZSgpID09PSB0aGlzLnJpZ2h0KSB7XG4gICAgICB0aGlzLnN1Y2Nlc3NDYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0V29yZChzbGlkZTogSFRNTEVsZW1lbnQsIGNvcnJlY3Q6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIGNvbnN0IHNlbGVjdG9yID0gYHBbZGF0YS1jb3JyZWN0PVwiJHtjb3JyZWN0fVwiXWA7XG4gICAgY29uc3QgcGFyYWdyYXBoID0gc2xpZGUucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XG5cbiAgICByZXR1cm4gcGFyYWdyYXBoPy5pbm5lclRleHQgfHwgJyc7XG4gIH1cbn0iLCJpbXBvcnQgeyBTb2x2ZXIgfSBmcm9tICcuL3NvbHZlcic7XG5cbmV4cG9ydCBjbGFzcyBIYWNrV29yZHNTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICB3b3Jkczogc3RyaW5nW107XG4gIGNvbnN0cnVjdG9yKFxuICAgICR0cmFuc2NyaXB0czogRXZlbnRUYXJnZXQsXG4gICAgc3VjY2Vzc0NhbGxiYWNrOiAoKSA9PiB2b2lkLFxuICAgIHNsaWRlOiBIVE1MRWxlbWVudCxcbiAgKSB7XG4gICAgc3VwZXIoJHRyYW5zY3JpcHRzLCBzdWNjZXNzQ2FsbGJhY2spO1xuICAgIHRoaXMud29yZHMgPSBBcnJheS5mcm9tKHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3AnKSkubWFwKGVsZW0gPT4gZWxlbS5pbm5lckhUTUwpO1xuICB9XG5cbiAgcHJvY2Vzc1RyYW5zY3JpcHQod29yZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgbmV4dFdvcmQgPSB0aGlzLndvcmRzWzBdO1xuXG4gICAgaWYgKHdvcmQudG9Mb3dlckNhc2UoKSA9PT0gbmV4dFdvcmQudG9Mb3dlckNhc2UoKSkge1xuICAgICAgdGhpcy53b3Jkcy5zaGlmdCgpO1xuICAgICAgdGhpcy5zdWNjZXNzQ2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy53b3Jkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuc3VjY2Vzc0NhbGxiYWNrKCk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgU29sdmVyIH0gZnJvbSAnLi9zb2x2ZXInO1xuXG5leHBvcnQgY2xhc3MgVGFsZVNvbHZlciBleHRlbmRzIFNvbHZlciB7XG4gIHdvcmRzOiBzdHJpbmdbXTtcbiAgaW1hZ2U6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihcbiAgICAkdHJhbnNjcmlwdHM6IEV2ZW50VGFyZ2V0LFxuICAgIHN1Y2Nlc3NDYWxsYmFjazogKCkgPT4gdm9pZCxcbiAgICBzbGlkZTogSFRNTEVsZW1lbnQsXG4gICkge1xuICAgIHN1cGVyKCR0cmFuc2NyaXB0cywgc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICB0aGlzLmltYWdlID0gc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWltYWdlLXVybCcpIHx8ICcnO1xuICAgIHRoaXMud29yZHMgPSBBcnJheS5mcm9tKHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4nKSkubWFwKGVsZW0gPT4gZWxlbS5pbm5lclRleHQpO1xuICB9XG5cbiAgcHJvY2Vzc1RyYW5zY3JpcHQod29yZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgbmV4dFdvcmQgPSB0aGlzLndvcmRzWzBdO1xuXG4gICAgaWYgKHdvcmQudG9Mb3dlckNhc2UoKSA9PT0gbmV4dFdvcmQudG9Mb3dlckNhc2UoKSkge1xuICAgICAgdGhpcy53b3Jkcy5zaGlmdCgpO1xuICAgICAgdGhpcy5zdWNjZXNzQ2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy53b3Jkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuc3VjY2Vzc0NhbGxiYWNrKCk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgU29sdmVyIH0gZnJvbSAnLi9zb2x2ZXInO1xuXG5leHBvcnQgY2xhc3MgV29yZHNTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICB3b3JkOiBzdHJpbmc7XG4gIGNvbnN0cnVjdG9yKFxuICAgICR0cmFuc2NyaXB0czogRXZlbnRUYXJnZXQsXG4gICAgc3VjY2Vzc0NhbGxiYWNrOiAoKSA9PiB2b2lkLFxuICAgIHNsaWRlOiBIVE1MRWxlbWVudCxcbiAgKSB7XG4gICAgc3VwZXIoJHRyYW5zY3JpcHRzLCBzdWNjZXNzQ2FsbGJhY2spO1xuICAgIHRoaXMud29yZCA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IoJ3AnKT8uaW5uZXJUZXh0IHx8ICcnO1xuICB9XG5cbiAgcHJvY2Vzc1RyYW5zY3JpcHQod29yZDogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHdvcmQudG9Mb3dlckNhc2UoKSA9PT0gdGhpcy53b3JkLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHRoaXMuc3VjY2Vzc0NhbGxiYWNrKCk7XG4gICAgfVxuICB9XG59IiwiZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNvbHZlciB7XG4gIHByaXZhdGUgdHJhbnNjcmlwdExpc3RlbmVyOiBFdmVudExpc3RlbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyBkZXRhaWwgfSA9IChldmVudCBhcyBhbnkpO1xuICAgIHRoaXMucHJvY2Vzc1RyYW5zY3JpcHQoZGV0YWlsKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCAkdHJhbnNjcmlwdHM6IEV2ZW50VGFyZ2V0LFxuICAgIHByb3RlY3RlZCBzdWNjZXNzQ2FsbGJhY2s6ICgpID0+IHZvaWQsXG4gICkge1xuICAgIHRoaXMuJHRyYW5zY3JpcHRzLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zY3JpcHQnLCB0aGlzLnRyYW5zY3JpcHRMaXN0ZW5lcik7XG4gIH1cblxuICBkaXNjb25uZWN0KCk6IHZvaWQge1xuICAgIHRoaXMuJHRyYW5zY3JpcHRzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zY3JpcHQnLCB0aGlzLnRyYW5zY3JpcHRMaXN0ZW5lcik7XG4gIH1cblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgcHJvY2Vzc1RyYW5zY3JpcHQod29yZDogc3RyaW5nKTogdm9pZDtcbn1cbiIsImV4cG9ydCB0eXBlIFNwZWVjaExvY2FsZSA9ICdlbi1VUycgfCAnZXMtRVMnIHwgJ2NhLUVTJztcbmV4cG9ydCBpbnRlcmZhY2UgU3BlZWNoT3B0aW9ucyB7XG4gIGxvY2FsZTogU3BlZWNoTG9jYWxlO1xufVxuXG5leHBvcnQgY2xhc3MgU3BlZWNoZXIge1xuICBwcml2YXRlIHJlc3VsdEhhbmRsZXI6IGFueTtcbiAgcHJpdmF0ZSBlcnJvckhhbmRsZXI6IGFueTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHNwZWVjaDogU3BlZWNoUmVjb2duaXRpb24sXG4gICAgcHJpdmF0ZSBvcHRpb25zOiBTcGVlY2hPcHRpb25zLFxuICApIHtcbiAgICB0aGlzLnJlc3VsdEhhbmRsZXIgPSAoZXZ0OiBTcGVlY2hSZWNvZ25pdGlvbkV2ZW50KSA9PiB0aGlzLmhhbmRsZVJlc3VsdChldnQpO1xuICAgIHRoaXMuZXJyb3JIYW5kbGVyID0gKGV2dDogU3BlZWNoU3ludGhlc2lzRXJyb3JFdmVudCkgPT4gdGhpcy5oYW5kbGVFcnJvcihldnQpO1xuICAgIHRoaXMuc3BlZWNoLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc3VsdCcsIHRoaXMucmVzdWx0SGFuZGxlcik7XG4gICAgdGhpcy5zcGVlY2guYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InICwgdGhpcy5lcnJvckhhbmRsZXIpO1xuICAgIHRoaXMuc3BlZWNoLmNvbnRpbnVvdXMgPSB0cnVlO1xuICAgIHRoaXMuc3BlZWNoLmxhbmcgPSBvcHRpb25zLmxvY2FsZTtcbiAgICB0aGlzLnNwZWVjaC5zdGFydCgpO1xuICB9XG5cbiAgJGV2ZW50cyA9IG5ldyBFdmVudFRhcmdldCgpXG4gICRlcnJvcnMgPSBuZXcgRXZlbnRUYXJnZXQoKVxuXG4gIHByaXZhdGUgaGFuZGxlUmVzdWx0KGV2ZW50OiBTcGVlY2hSZWNvZ25pdGlvbkV2ZW50KSB7XG4gICAgY29uc3QgbGFzdFJlc3VsdCA9IGV2ZW50LnJlc3VsdHMuaXRlbShldmVudC5yZXN1bHRzLmxlbmd0aCAtIDEpO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdFJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYWx0ZXJuYXRpdmUgPSBsYXN0UmVzdWx0Lml0ZW0oaSk7XG5cbiAgICAgIGFsdGVybmF0aXZlLnRyYW5zY3JpcHQuc3BsaXQoJyAnKVxuICAgICAgLmZpbHRlcigod29yZCkgPT4gISF3b3JkKVxuICAgICAgLmZvckVhY2goKHdvcmQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2hlYXJkJywgd29yZCk7XG4gICAgICAgIHRoaXMuJGV2ZW50cy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndHJhbnNjcmlwdCcsIHsgZGV0YWlsOiB3b3JkIH0pKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVFcnJvcihldmVudDogU3BlZWNoU3ludGhlc2lzRXJyb3JFdmVudCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ3JlY29nbml0aW9uIGVycm9yJywgZXZlbnQubmFtZSwgZXZlbnQuZXJyb3IpO1xuICAgIHRoaXMuJGVycm9ycy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZXJyb3InLCB7IGRldGFpbDogZXZlbnQuZXJyb3IgfSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBleHRyYWN0V29yZHModGV4dDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIHJldHVybiB0ZXh0LnNwbGl0KCcgJykubWFwKHQgPT4gdC5yZXBsYWNlKC9bXmEtesOhw6DDqcOow63Ds8Oyw7rDvF0rL2lnLCAnJykpO1xuICB9XG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiJdLCJuYW1lcyI6WyJzcGVlY2hlciIsInNvbHZlciIsIm5leHRTbGlkZSIsInByb2Nlc3NTbGlkZUV2ZW50IiwiJHRyYW5zY3JpcHRzIiwic3VjY2Vzc0NhbGxiYWNrIiwic2xpZGUiLCJyaWdodCIsImdldFdvcmQiLCJ3cm9uZyIsInByb2Nlc3NUcmFuc2NyaXB0Iiwid29yZCIsInRvTG93ZXJDYXNlIiwidGhpcyIsImNvcnJlY3QiLCJzZWxlY3RvciIsInBhcmFncmFwaCIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lclRleHQiLCJTb2x2ZXIiLCJGYWtlU29sdmVyIiwid29yZHMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwibWFwIiwiZWxlbSIsImlubmVySFRNTCIsIm5leHRXb3JkIiwic2hpZnQiLCJsZW5ndGgiLCJIYWNrV29yZHNTb2x2ZXIiLCJpbWFnZSIsImdldEF0dHJpYnV0ZSIsIlRhbGVTb2x2ZXIiLCJXb3Jkc1NvbHZlciIsInRyYW5zY3JpcHRMaXN0ZW5lciIsImV2ZW50IiwiZGV0YWlsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc2Nvbm5lY3QiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3BlZWNoIiwib3B0aW9ucyIsIiRldmVudHMiLCJFdmVudFRhcmdldCIsIiRlcnJvcnMiLCJyZXN1bHRIYW5kbGVyIiwiZXZ0IiwiaGFuZGxlUmVzdWx0IiwiZXJyb3JIYW5kbGVyIiwiaGFuZGxlRXJyb3IiLCJjb250aW51b3VzIiwibGFuZyIsImxvY2FsZSIsInN0YXJ0IiwibGFzdFJlc3VsdCIsInJlc3VsdHMiLCJpdGVtIiwiaSIsInRyYW5zY3JpcHQiLCJzcGxpdCIsImZpbHRlciIsImZvckVhY2giLCJjb25zb2xlIiwibG9nIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZXJyb3IiLCJuYW1lIiwiZXh0cmFjdFdvcmRzIiwidGV4dCIsInQiLCJyZXBsYWNlIiwiU3BlZWNoZXIiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJyb3V0ZXMiLCJSZXZlYWwiLCJhdmFpbGFibGVSb3V0ZXMiLCJkb3duIiwibmV4dCIsImN1cnJlbnRTbGlkZSIsInBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJ0eXBlIiwid2Via2l0U3BlZWNoUmVjb2duaXRpb24iXSwic291cmNlUm9vdCI6IiJ9